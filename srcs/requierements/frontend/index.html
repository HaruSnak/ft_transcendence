<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Transcendance</title>

    	<link rel="stylesheet" href="public/css/index.css">
	</head>
	<body class="bg-gray-900 text-gray-100">

<!-- ================= NAVBAR ================= -->
		<nav class="bg-gray-800 px-4 py-2 fixed w-full z-10">
			<div class="max-w-6xl mx-auto flex justify-between items-center">
				<button data-page="home" class="text-xl font-bold text-blue-400 cursor-pointer">Transcendance</button>
				<div class="space-x-4">
					<button data-page="home" class="hover:underline cursor-pointer">Home</button>
					<button data-page="game" class="hover:underline cursor-pointer">Game</button>
					<button data-page="live-chat" class="hover:underline cursor-pointer">LiveChat</button>
					
					
					
					<button data-page="profile" class="hover:underline cursor-pointer">Profil</button>
					<button data-page="login" class="hover:underline cursor-pointer">Login</button>
				</div>
			</div>
		</nav>

		<!-- conteneur central -->
		<main class="pt-16 max-w-4xl mx-auto space-y-8 px-4">

<!-- ================= HOME ================= -->
			<section id="home" class="page hidden flex flex-col items-center justify-center pt-16 space-y-6">
				<h1 class="text-4xl font-bold text-blue-400">Welcome to Transcendance</h1>
				<div class="flex space-x-4">
					<button data-page="live-chat" class="px-4 py-2 border border-blue-400 rounded hover:bg-blue-500">LiveChat</button>
					<button data-page="game" class="px-4 py-2 border border-blue-400 rounded hover:bg-blue-500">Play Game</button>
					
				</div>
			</section>

<!-- ================= GAME ================= -->
			<section id="game" class="page hidden flex flex-col items-center justify-center pt-17 space-y-6">
				<h1 class="text-4xl font-bold text-blue-400">Pong Game</h1>
				<p>Choose a game mode from the following!</p> <!--  Modifier  Controls: W/S for left paddle | Arrow Up/Down for right paddle-->
				<div id="main-menu-game" class="relative">
					<button id="buttonPracticeGame" class="px-12 py-4 font-semibold text-white rounded-lg bg-gradient-to-r from-purple-600 via-pink-600 to-red-500 shadow-lg
						hover:from-pink-500 hover:to-yellow-400 hover:scale-110 transform transition duration-400 ease-in-out
						focus:outline-none focus:ring-4 focus:ring-pink-400">
						Practice
						<span class="absolute inset-0 rounded-lg opacity-0 hover:opacity-30 bg-pink-400 blur-xl transition duration-500"></span>
					</button>
					<button id="buttonPlyLocalGame" class="relative px-12 py-4 font-semibold text-white rounded-lg bg-gradient-to-r from-green-600 via-teal-600 to-cyan-500 shadow-lg
						hover:from-teal-500 hover:to-lime-400 hover:scale-110 transform transition duration-400 ease-in-out
						focus:outline-none focus:ring-4 focus:ring-teal-400">
						1 versus 1
						<span class="absolute inset-0 rounded-lg opacity-0 hover:opacity-30 bg-teal-400 blur-xl transition duration-500"></span>
					</button>
					<button id="buttonTournamentGame" class="relative px-12 py-4 font-semibold text-white rounded-lg bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-700 shadow-lg
						hover:from-indigo-500 hover:to-purple-400 hover:scale-110 transform transition duration-400 ease-in-out
						focus:outline-none focus:ring-4 focus:ring-indigo-400">
						Tournament
						<span class="absolute inset-0 rounded-lg opacity-0 hover:opacity-30 bg-indigo-400 blur-xl transition duration-500"></span>
					</button>
				<!--<button id="practiceGameButton" class="relative px-12 py-4 font-semibold text-white rounded-lg bg-gradient-to-r from-purple-600 via-pink-600 to-red-500 shadow-lg
						hover:from-pink-500 hover:to-yellow-400 hover:scale-110 transform transition duration-400 ease-in-out
						focus:outline-none focus:ring-4 focus:ring-pink-400">
						Local
						<span class="absolute inset-0 rounded-lg opacity-0 hover:opacity-30 bg-pink-400 blur-xl transition duration-500"></span>
					</button>
					<button id="plyLocalGameButton" class="relative px-12 py-4 font-semibold text-white rounded-lg bg-gradient-to-r from-green-600 via-teal-600 to-cyan-500 shadow-lg
						hover:from-teal-500 hover:to-lime-400 hover:scale-110 transform transition duration-400 ease-in-out
						focus:outline-none focus:ring-4 focus:ring-teal-400">
						Remote
						<span class="absolute inset-0 rounded-lg opacity-0 hover:opacity-30 bg-teal-400 blur-xl transition duration-500"></span>
					</button>
					MENU SI REMOTE FAIT-->
				</div>
				<div id= "menu-add-login"class="hidden w-[500px] min-w-[400px] relative flex flex-col rounded-lg border border-slate-200 bg-white shadow-lg mx-auto">
					<!-- Section Login -->
					<div class="flex flex-col items-center gap-4 p-8">
						<h2 class="text-xl font-semibold text-slate-800 mb-2">Add a user</h2>
						
						<div class="w-full max-w-[280px] flex flex-col gap-4">
							<div>
								<label class="block mb-2 text-sm font-medium text-slate-700">Login</label>
								<input 
									id="inputLoginGM"
									class="w-full bg-gray-50 placeholder:text-slate-400 text-slate-700 text-sm border border-slate-300 rounded-md px-4 py-3 transition duration-300 ease focus:outline-none focus:border-blue-500 hover:border-blue-300 shadow-sm focus:shadow-md" 
									placeholder="Username" 
								/>
							</div>
							
							<div>
								<label class="block mb-2 text-sm font-medium text-slate-700">Password</label>
								<input
									id="inputPasswordGM"
									type="password"
									class="w-full bg-gray-50 placeholder:text-slate-400 text-slate-700 text-sm border border-slate-300 rounded-md px-4 py-3 transition duration-300 ease focus:outline-none focus:border-blue-500 hover:border-blue-300 shadow-sm focus:shadow-md" 
									placeholder="Password" 
								/>
							</div>
							
							<button id= "buttonAddLogginGM" class="w-full mt-2 bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-4 rounded-md transition duration-200 ease shadow-sm hover:shadow-md">
								Add/Login
							</button>
						</div>
						
						<p class="text-xs text-slate-500 text-center max-w-[280px] mt-2">
							(If you have an account, otherwise skip this step.)<br>
							Use at least 8 characters, one uppercase letter, one lowercase letter and one number.
						</p>
					</div>
					
					<!-- Séparateur -->
					<div class="relative">
						<hr class="border-slate-200">
						<div class="absolute inset-0 flex justify-center">
							<span class="bg-white px-4 text-sm text-slate-500">Room</span>
						</div>
					</div>
					
					<!-- Section Room -->
					<div id="profile-user" class="flex flex-col items-center gap-4 p-8 pt-6">
						<h3 class="text-lg font-medium text-slate-800 mb-2">Game room</h3>
						<template id="profile-template">
							<div 
								role="button"
								class="w-full max-w-[280px] text-slate-800 flex items-center rounded-lg p-4 transition-all hover:bg-slate-50 focus:bg-slate-50 active:bg-slate-100 border border-slate-200 hover:border-slate-300 cursor-pointer"
							>
								<div class="profile-img mr-4 flex-shrink-0">
									<div class="w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center">
										<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 24 24">
											<path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm7.753 18.305c-.261-.586-.789-.991-1.871-1.241-2.293-.529-4.428-.993-3.393-2.945 3.145-5.942.833-9.119-2.489-9.119-3.388 0-5.644 3.299-2.489 9.119 1.066 1.964-1.148 2.427-3.393 2.945-1.084.25-1.608.658-1.867 1.246-1.405-1.723-2.251-3.919-2.251-6.31 0-5.514 4.486-10 10-10s10 4.486 10 10c0 2.389-.845 4.583-2.247 6.305z"/>
										</svg>
									</div>
								</div>
								<div class="flex-1">
									<h6 class="profile-username text-slate-800 font-medium text-base">
										<!-- Empty -->
									</h6>
									<p class="profile-type text-slate-500 text-sm mt-1">
										<!-- Empty -->
									</p>
								</div>
							</div>
						</template>
					</div>
				</div>
				<!-- 						GAMEPLAY INTERFACE						-->
				<div class="relative">
					<canvas id="pongCanvas" class="bg-emerald-500 border-4 border-black" width="800" height="600"></canvas>
					<div id="gameMessageWinOrLose" class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-4xl font-bold hidden transition-opacity duration-300"></div>
				</div>
				<div id = "ingame-button" class="text-center mt-4 space-y-0.5 space-x-2 hidden">
					<button id="buttonPauseGame" class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded">Pause</button>
					<button id="buttonStartGame" class="bg-green-400 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">Start Game</button>
					<button id="buttonResetGame" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded">Reset</button>
				</div>
			</section>

<!-- ================= LIVE CHAT ================= -->
			<section id="live-chat" class="page hidden p-6">
				<h1 class="text-2xl font-bold mb-4">Live chat</h1>
				<div class="flex space-x-4 items-stretch">

					<!-- Colonne de gauche : général chan + private message -->
					<div class="w-48 bg-gray-800 p-4 rounded flex flex-col">
						<button id="btn-general" class="mb-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">General</button>
						<div id="dm-list" class="flex-1 overflow-auto space-y-2"></div>
					</div>

					<!-- Colonne centrale : zone de chat -->
					<div class="flex-1 bg-gray-700 p-4 flex flex-col rounded">

						<!-- header du chat -->
						<div id="chat-header" class="mb-2 flex items-center justify-between text-lg font-semibold text-white">
							<span id="chat-title"># general</span>
							<div class="flex space-x-2">
								<button id="invite-btn" class="px-2 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-500 hidden">Play together</button>
								<button id="block-btn" class="px-2 py-1 text-sm bg-red-600 text-white rounded hover:bg-red-500 hidden">Block user</button>
							</div>
						</div>

						<!-- Zone des messages -->
						<div id="chat_messages" class="flex-1 overflow-auto space-y-2 mb-4 p-2 bg-gray-600 rounded min-h-[400px]"></div>

						<!-- send boutton -->
						<form id="chat_form" class="flex">
							<input
								id="chat_input"
								type="text"
								placeholder="Tape ton message..."
								class="flex-1 p-2 rounded-l bg-gray-600 text-white"
							/>
							<button type="submit" class="px-4 bg-blue-500 rounded-r text-white">Send</button>
						</form>
					</div>

					<!-- Colonne de droite : Utilisateurs en ligne -->
					<div id="user-list" class="w-48 bg-gray-800 p-4 space-y-2 rounded overflow-auto flex flex-col">
						<h2 class="text-lg font-semibold mb-2 text-blue-300">Users online</h2>
					</div>
				</div>
			</section>

            

            

            

<!-- ================= LOGIN ================= -->
			<section id="login" class="page hidden max-w-sm mx-auto bg-gray-800 p-6 rounded shadow-lg">
				<h1 class="text-2xl font-bold text-center text-blue-400 mb-4">Sign In</h1>
				<form id="login_form" class="space-y-4">
					<div>
						<label class="block mb-1">User</label>
						<input id="username" name="identifier" type="text" class="w-full p-2 rounded bg-gray-700" required />
					</div>
					<div>
						<label class="block mb-1">Password</label>
						<input id="password" name="password" type="password" class="w-full p-2 rounded bg-gray-700" required />
					</div>
					<button type="submit" class="w-full bg-blue-500 py-2 rounded text-white">Login</button>
				</form>
				<div class="mt-4 text-center">
					<button id="button-signup" class="text-sm text-gray-400 hover:underline">Create account</button>
				</div>
			</section>

<!-- ================= SIGN UP ================= -->
			<section id="signup" class="page hidden max-w-sm mx-auto bg-gray-800 p-6 rounded shadow-lg">
				<h1 class="text-2xl font-bold text-center text-green-400 mb-4">Create account</h1>
				<form id="signup_form" class="space-y-4">
					<div>
						<label class="block mb-1">User</label>
						<input id="su_username" type="text" class="w-full p-2 rounded bg-gray-700" required />
					</div>
					<div>
						<label class="block mb-1">Email</label>
						<input id="su_email" type="email" class="w-full p-2 rounded bg-gray-700" required />
					</div>
					<div>
						<label class="block mb-1">Password</label>
						<input id="su_password" type="password" class="w-full p-2 rounded bg-gray-700" required />
					</div>
					<button type="submit" class="w-full bg-green-500 py-2 rounded text-white">Create account</button>
				</form>
				<div class="mt-4 text-center">
					<button id="button-cancel-signup" class="text-sm text-gray-400 hover:underline">Cancel</button>
				</div>
			</section>
		</main>

<!-- ================= Profil page ================= -->
			<section id="profile" class="hidden p-8">
				<div class="flex flex-col items-center max-w-xl mx-auto">
					<h1 class="text-2xl font-bold mb-4 text-center">Profil</h1>
					<div id="profile-container"></div>
				</div>
			</section>

		<script type="module" src="./public/js/index.js?v=2"></script>
	</body>
</html>